<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.111.3"><meta name=description content><link rel=icon href=/images/favicon.png type=image/png><title>External Functions :: UPPAAL Documentation</title><link href=/css/nucleus.css?1684324558 rel=stylesheet><link href=/css/fontawesome-all.min.css?1684324558 rel=stylesheet><link href=/css/hybrid.css?1684324558 rel=stylesheet><link href=/css/featherlight.min.css?1684324558 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1684324558 rel=stylesheet><link href=/css/auto-complete.css?1684324558 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1684324558 rel=stylesheet><link href=/css/theme.css?1684324558 rel=stylesheet><link href=/css/tabs.css?1684324558 rel=stylesheet><link href=/css/hugo-theme.css?1684324558 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1684324558></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/language-reference/system-description/declarations/external-functions/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href><h1 style=font-weight:700;color:#fff>UPPAAL</h1></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1684324558></script>
<script type=text/javascript src=/js/auto-complete.js?1684324558></script>
<script type=text/javascript>var baseurl=""</script><script type=text/javascript src=/js/search.js?1684324558></script></div><section id=homelinks><ul><li><a class=padding href=/><i class='fas fa-home'></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/gui-reference/ title="GUI Reference" class=dd-item><a href=/gui-reference/><b>1. </b>GUI Reference</a><ul><li data-nav-id=/gui-reference/menu-bar/ title="Menu Bar" class=dd-item><a href=/gui-reference/menu-bar/>Menu Bar</a><ul><li data-nav-id=/gui-reference/menu-bar/file/ title="File Menu" class=dd-item><a href=/gui-reference/menu-bar/file/>File Menu</a></li><li data-nav-id=/gui-reference/menu-bar/edit/ title="Edit Menu" class=dd-item><a href=/gui-reference/menu-bar/edit/>Edit Menu</a></li><li data-nav-id=/gui-reference/menu-bar/view/ title="View Menu" class=dd-item><a href=/gui-reference/menu-bar/view/>View Menu</a></li><li data-nav-id=/gui-reference/menu-bar/tools/ title="Tools Menu" class=dd-item><a href=/gui-reference/menu-bar/tools/>Tools Menu</a></li><li data-nav-id=/gui-reference/menu-bar/options/ title="Options Menu" class=dd-item><a href=/gui-reference/menu-bar/options/>Options Menu</a></li><li data-nav-id=/gui-reference/menu-bar/help/ title="Help Menu" class=dd-item><a href=/gui-reference/menu-bar/help/>Help Menu</a></li></ul></li><li data-nav-id=/gui-reference/toolbar/ title="Tool Bar" class=dd-item><a href=/gui-reference/toolbar/>Tool Bar</a></li><li data-nav-id=/gui-reference/system-editor/ title="System Editor" class=dd-item><a href=/gui-reference/system-editor/>System Editor</a><ul><li data-nav-id=/gui-reference/system-editor/navigation-tree/ title="Navigation Tree" class=dd-item><a href=/gui-reference/system-editor/navigation-tree/>Navigation Tree</a></li><li data-nav-id=/gui-reference/system-editor/drawing/ title=Drawing class=dd-item><a href=/gui-reference/system-editor/drawing/>Drawing</a></li><li data-nav-id=/gui-reference/system-editor/declarations/ title=Declarations class=dd-item><a href=/gui-reference/system-editor/declarations/>Declarations</a></li></ul></li><li data-nav-id=/gui-reference/symbolic-simulator/ title="Symbolic Simulator" class=dd-item><a href=/gui-reference/symbolic-simulator/>Symbolic Simulator</a><ul><li data-nav-id=/gui-reference/symbolic-simulator/simulation-control/ title="Simulation Control" class=dd-item><a href=/gui-reference/symbolic-simulator/simulation-control/>Simulation Control</a></li><li data-nav-id=/gui-reference/symbolic-simulator/variables/ title="Variables Panel" class=dd-item><a href=/gui-reference/symbolic-simulator/variables/>Variables Panel</a></li><li data-nav-id=/gui-reference/symbolic-simulator/process/ title="Process Panel" class=dd-item><a href=/gui-reference/symbolic-simulator/process/>Process Panel</a></li><li data-nav-id=/gui-reference/symbolic-simulator/sequence-charts/ title="Message Sequence Chart" class=dd-item><a href=/gui-reference/symbolic-simulator/sequence-charts/>Message Sequence Chart</a></li><li data-nav-id=/gui-reference/symbolic-simulator/symbolic-traces/ title="Symbolic Traces" class=dd-item><a href=/gui-reference/symbolic-simulator/symbolic-traces/>Symbolic Traces</a></li></ul></li><li data-nav-id=/gui-reference/concrete-simulator/ title="Concrete Simulator" class=dd-item><a href=/gui-reference/concrete-simulator/>Concrete Simulator</a><ul><li data-nav-id=/gui-reference/concrete-simulator/simulation-control/ title="Simulation Control" class=dd-item><a href=/gui-reference/concrete-simulator/simulation-control/>Simulation Control</a></li><li data-nav-id=/gui-reference/concrete-simulator/variables/ title="Variables Panel" class=dd-item><a href=/gui-reference/concrete-simulator/variables/>Variables Panel</a></li><li data-nav-id=/gui-reference/concrete-simulator/process/ title="Process Panel" class=dd-item><a href=/gui-reference/concrete-simulator/process/>Process Panel</a></li><li data-nav-id=/gui-reference/concrete-simulator/sequence-chart/ title="Message Sequence Chart" class=dd-item><a href=/gui-reference/concrete-simulator/sequence-chart/>Message Sequence Chart</a></li><li data-nav-id=/gui-reference/concrete-simulator/gantt-chart/ title="Gantt Chart Panel" class=dd-item><a href=/gui-reference/concrete-simulator/gantt-chart/>Gantt Chart Panel</a></li></ul></li><li data-nav-id=/gui-reference/verifier/ title=Verifier class=dd-item><a href=/gui-reference/verifier/>Verifier</a><ul><li data-nav-id=/gui-reference/verifier/specifying/ title="Specifying Requirements" class=dd-item><a href=/gui-reference/verifier/specifying/>Specifying Requirements</a></li><li data-nav-id=/gui-reference/verifier/verifying/ title="Verifying Requirements" class=dd-item><a href=/gui-reference/verifier/verifying/>Verifying Requirements</a></li></ul></li><li data-nav-id=/gui-reference/yggdrasil/ title="Test Cases (Yggdrasil)" class=dd-item><a href=/gui-reference/yggdrasil/>Test Cases (Yggdrasil)</a><ul><li data-nav-id=/gui-reference/yggdrasil/traces/ title="Generating Traces" class=dd-item><a href=/gui-reference/yggdrasil/traces/>Generating Traces</a></li><li data-nav-id=/gui-reference/yggdrasil/test-code/ title="Specifying Test Code" class=dd-item><a href=/gui-reference/yggdrasil/test-code/>Specifying Test Code</a></li><li data-nav-id=/gui-reference/yggdrasil/tutorial/ title=Tutorial class=dd-item><a href=/gui-reference/yggdrasil/tutorial/>Tutorial</a><ul><li data-nav-id=/gui-reference/yggdrasil/tutorial/basic-test-generation/ title="Basic Test Generation" class=dd-item><a href=/gui-reference/yggdrasil/tutorial/basic-test-generation/>Basic Test Generation</a></li><li data-nav-id=/gui-reference/yggdrasil/tutorial/using-variables/ title="Using Model Variables" class=dd-item><a href=/gui-reference/yggdrasil/tutorial/using-variables/>Using Model Variables</a></li><li data-nav-id=/gui-reference/yggdrasil/tutorial/using-queries/ title="Using Queries" class=dd-item><a href=/gui-reference/yggdrasil/tutorial/using-queries/>Using Queries</a></li></ul></li></ul></li></ul></li><li data-nav-id=/language-reference/ title="Language Reference" class="dd-item
parent"><a href=/language-reference/><b>2. </b>Language Reference</a><ul><li data-nav-id=/language-reference/system-description/ title="System Description" class="dd-item
parent"><a href=/language-reference/system-description/>System Description</a><ul><li data-nav-id=/language-reference/system-description/declarations/ title=Declarations class="dd-item
parent"><a href=/language-reference/system-description/declarations/>Declarations</a><ul><li data-nav-id=/language-reference/system-description/declarations/types/ title=Types class=dd-item><a href=/language-reference/system-description/declarations/types/>Types</a></li><li data-nav-id=/language-reference/system-description/declarations/functions/ title=Functions class=dd-item><a href=/language-reference/system-description/declarations/functions/>Functions</a></li><li data-nav-id=/language-reference/system-description/declarations/external-functions/ title="External Functions" class="dd-item active"><a href=/language-reference/system-description/declarations/external-functions/>External Functions</a></li></ul></li><li data-nav-id=/language-reference/system-description/templates/ title=Templates class=dd-item><a href=/language-reference/system-description/templates/>Templates</a><ul><li data-nav-id=/language-reference/system-description/templates/locations/ title=Locations class=dd-item><a href=/language-reference/system-description/templates/locations/>Locations</a></li><li data-nav-id=/language-reference/system-description/templates/edges/ title=Edges class=dd-item><a href=/language-reference/system-description/templates/edges/>Edges</a></li></ul></li><li data-nav-id=/language-reference/system-description/parameters/ title=Parameters class=dd-item><a href=/language-reference/system-description/parameters/>Parameters</a></li><li data-nav-id=/language-reference/system-description/system-definition/ title="System Definition" class=dd-item><a href=/language-reference/system-description/system-definition/>System Definition</a><ul><li data-nav-id=/language-reference/system-description/system-definition/template-instantiation/ title="Template Instantiation" class=dd-item><a href=/language-reference/system-description/system-definition/template-instantiation/>Template Instantiation</a></li><li data-nav-id=/language-reference/system-description/system-definition/progress-measures/ title="Progress Measures" class=dd-item><a href=/language-reference/system-description/system-definition/progress-measures/>Progress Measures</a></li><li data-nav-id=/language-reference/system-description/system-definition/gantt-chart/ title="Gantt Chart" class=dd-item><a href=/language-reference/system-description/system-definition/gantt-chart/>Gantt Chart</a></li></ul></li><li data-nav-id=/language-reference/system-description/priorities/ title=Priorities class=dd-item><a href=/language-reference/system-description/priorities/>Priorities</a></li><li data-nav-id=/language-reference/system-description/scope-rules/ title="Scope Rules" class=dd-item><a href=/language-reference/system-description/scope-rules/>Scope Rules</a></li><li data-nav-id=/language-reference/system-description/semantics/ title=Semantics class=dd-item><a href=/language-reference/system-description/semantics/>Semantics</a></li></ul></li><li data-nav-id=/language-reference/requirements-specification/ title="Requirements Specification" class=dd-item><a href=/language-reference/requirements-specification/>Requirements Specification</a><ul><li data-nav-id=/language-reference/requirements-specification/symb_queries/ title="Semantics of the Symbolic Queries" class=dd-item><a href=/language-reference/requirements-specification/symb_queries/>Symbolic Queries</a></li><li data-nav-id=/language-reference/requirements-specification/smc_queries/ title="Semantics of the Statistical Queries" class=dd-item><a href=/language-reference/requirements-specification/smc_queries/>Statistical Queries</a></li><li data-nav-id=/language-reference/requirements-specification/ci_estimation/ title="CI Estimation" class=dd-item><a href=/language-reference/requirements-specification/ci_estimation/>CI Estimation</a></li></ul></li><li data-nav-id=/language-reference/expressions/ title=Expressions class=dd-item><a href=/language-reference/expressions/>Expressions</a><ul><li data-nav-id=/language-reference/expressions/identifiers/ title=Identifiers class=dd-item><a href=/language-reference/expressions/identifiers/>Identifiers</a></li></ul></li><li data-nav-id=/language-reference/reserved-keywords/ title="Reserved Keywords" class=dd-item><a href=/language-reference/reserved-keywords/>Reserved Keywords</a></li></ul></li><li data-nav-id=/toolsandapi/ title="Tools & API" class=dd-item><a href=/toolsandapi/><b>3. </b>Tools & API</a><ul><li data-nav-id=/toolsandapi/uppaal/ title=UPPAAL class=dd-item><a href=/toolsandapi/uppaal/>UPPAAL</a></li><li data-nav-id=/toolsandapi/verifyta/ title=verifyta class=dd-item><a href=/toolsandapi/verifyta/>verifyta</a></li><li data-nav-id=/toolsandapi/javaapi/ title="Java API" class=dd-item><a href=/toolsandapi/javaapi/>Java API</a></li><li data-nav-id=/toolsandapi/socketserver/ title=Socketserver class=dd-item><a href=/toolsandapi/socketserver/>Socketserver</a></li><li data-nav-id=/toolsandapi/file-formats/ title="File Formats" class=dd-item><a href=/toolsandapi/file-formats/>File Formats</a></li><li data-nav-id=/toolsandapi/latex/ title=Latex class=dd-item><a href=/toolsandapi/latex/>Latex</a></li></ul></li><li data-nav-id=/extensions/ title=Extensions class=dd-item><a href=/extensions/><b>4. </b>Extensions</a><ul><li data-nav-id=/extensions/cora/ title=CORA class=dd-item><a href=/extensions/cora/>CORA</a></li><li data-nav-id=/extensions/ecdar/ title=ECDAR class=dd-item><a href=/extensions/ecdar/>ECDAR</a></li><li data-nav-id=/extensions/tiga/ title="UPPAAL Tiga" class=dd-item><a href=/extensions/tiga/>UPPAAL Tiga</a></li><li data-nav-id=/extensions/tron/ title="UPPAAL TRON" class=dd-item><a href=/extensions/tron/>UPPAAL TRON</a></li></ul></li><li data-nav-id=/preview-build/ title class=dd-item><a href=/preview-build/></a></li></ul><section id=footer><p>(c) 1995-2021 <a href=https://www.uppaal.org>UPPAAL</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title='Edit this page' href=https://github.com/UPPAALModelChecker/docs.uppaal.org/blob/master/content/language-reference/system-description/declarations/external-functions.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/></a> > <a href=/language-reference/>Language Reference</a> > <a href=/language-reference/system-description/>System Description</a> > <a href=/language-reference/system-description/declarations/>Declarations</a> > External Functions</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#type-conversion-and-restrictions>Type Conversion and Restrictions</a></li><li><a href=#defining-external-library>Defining External Library</a></li><li><a href=#debugging>Debugging</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>External Functions</h1><div class="notices info"><p>External Functions is an expert user feature and requires a high-level understanding of dynamic library loading and linking.
The feature is only officially supported on Linux.</p></div><div class="notices info"><p>This feature is supported since Uppaal Stratego version 4.1.20-7, or Uppaal version 5.0 or later.</p></div><p>External Functions can be decreated alongside other declaratios. External functions are local to the current scope, defined by the grammar:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-EBNF data-lang=EBNF><span style=display:flex><span><span style=color:#66d9ef>ExternDecl   </span><span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;import&#39;</span>  <span style=color:#66d9ef>String </span><span style=color:#e6db74>&#39;{&#39;</span> [<span style=color:#66d9ef>FwdDeclList</span>] <span style=color:#e6db74>&#39;}&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FwdDeclList  </span><span style=color:#960050;background-color:#1e0010>=</span> <span style=color:#66d9ef>FwdDecl </span><span style=color:#e6db74>&#39;;&#39;</span> |
</span></span><span style=display:flex><span>               <span style=color:#66d9ef>FwdDeclList FwdDecl </span><span style=color:#e6db74>&#39;;&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FwdDecl      </span><span style=color:#960050;background-color:#1e0010>=</span> [<span style=color:#66d9ef>ID </span><span style=color:#e6db74>&#39;=&#39;</span>] <span style=color:#66d9ef>Type ID </span><span style=color:#e6db74>&#39;(&#39;</span> [<span style=color:#66d9ef>Parameters</span>] <span style=color:#e6db74>&#39;)&#39;</span>
</span></span></code></pre></div><p>The following code will load the external libary <code>libexternal.so</code> from the path <code>/home/user/lib</code> and import the functions <code>get_number</code>, <code>set_number</code> and <code>is_the_world_safe</code>.
The function <code>is_the_world_safe</code> will be imported with the name <code>is_safe</code>.</p><p>Even though Uppaal will attempt to locate the library in several default paths, we recommend using a fully qualified path to the library file.</p><p>If you are using integers in external function, we recommend defining a full integer range in order to avoid Uppaal <code>int</code> range (<code>[-32768,32767]</code>) errors.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> INT32_MIN <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2147483648</span>;        <span style=color:#75715e>// not needed since Stratego 4.1.20-11
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> INT32_MAX <span style=color:#f92672>=</span> <span style=color:#ae81ff>2147483647</span>;         <span style=color:#75715e>// not needed since Stratego 4.1.20-11
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>int</span>[INT32_MIN,INT32_MAX] <span style=color:#66d9ef>int32_t</span>; <span style=color:#75715e>// not needed since Stratego 4.1.20-11
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>import <span style=color:#e6db74>&#34;/home/user/lib/libexternal.so&#34;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int32_t</span> <span style=color:#a6e22e>get_number</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>set_number</span>(<span style=color:#66d9ef>int32_t</span> n);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int32_t</span> <span style=color:#a6e22e>get_sqrt</span>(<span style=color:#66d9ef>int32_t</span> n);
</span></span><span style=display:flex><span>    is_safe <span style=color:#f92672>=</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>is_the_world_safe</span>();
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h2 id=type-conversion-and-restrictions>Type Conversion and Restrictions</h2><p>The types transfarable between Uppaal and external functions are curretly limited to <code>bool</code>, <code>int</code>, <code>double</code>, <code>clock</code>, <code>chan</code>, <code>ptr_t</code> and <code>string</code>. Omitting complex types such as structs and nested data structures. Only single-dimentional arrays are supported on only mutable types; arrays of <code>chan</code> and strings are not currently supported.</p><p>The following table summarizes the current support:</p><table><thead><tr><th>UPPAAL Type</th><th>C Type</th><th>By Value</th><th>Return</th><th>Array</th></tr></thead><tbody><tr><td>bool</td><td>bool</td><td>x</td><td>x</td><td>x</td></tr><tr><td>int</td><td>int32_t</td><td>x</td><td>x</td><td>x</td></tr><tr><td>double</td><td>double</td><td>x</td><td>x</td><td>x</td></tr><tr><td>clock</td><td>double</td><td></td><td></td><td>x</td></tr><tr><td>chan</td><td>const char*</td><td></td><td></td><td></td></tr><tr><td>ptr_t</td><td>size_t</td><td>x</td><td>x</td><td>x</td></tr><tr><td>string</td><td>const char*</td><td></td><td></td><td></td></tr><tr><td>&lt;type>[]</td><td>&lt;type></td><td></td><td></td><td></td></tr></tbody></table><p>A violation of a range of a bounded integer (either pass-by-reference or return) will cause a runtime error.</p><h2 id=defining-external-library>Defining External Library</h2><p>An external library can be compiled from C or C++ code and linked into a shared library.
Uppaal uses C symbol name mangling, so C++ compiler needs to be instructed to export <code>"C"</code> names, whereas C compiler does it by default.</p><p>The following C/C++ code implements the library functions used for the example above.</p><p><code>external.h</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#75715e>#ifndef LIBRARY_EXTERNAL_H
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define LIBRARY_EXTERNAL_H
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ifdef __cplusplus
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>extern</span> <span style=color:#e6db74>&#34;C&#34;</span> { <span style=color:#75715e>// tells C++ compiler to use C symbol name mangling (C compiler ignores)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#endif </span><span style=color:#75715e>// __cplusplus
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_number</span>();
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>set_number</span>(<span style=color:#66d9ef>int</span> n);
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_sqrt</span>(<span style=color:#66d9ef>int</span> n);
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>is_the_world_safe</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ifdef __cplusplus
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} <span style=color:#75715e>// end of &#34;C&#34; symbol name mangling
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#endif </span><span style=color:#75715e>// __cplusplus
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#endif </span><span style=color:#75715e>// LIBRARY_EXTERNAL_H
</span></span></span></code></pre></div><p><code>external.cpp</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&#34;external.h&#34;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cmath&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> number <span style=color:#f92672>=</span> <span style=color:#ae81ff>42</span>; <span style=color:#75715e>// internal state, be careful
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ifdef __cplusplus
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>extern</span> <span style=color:#e6db74>&#34;C&#34;</span> { <span style=color:#75715e>// tells C++ compiler to use C symbol name mangling (C compiler ignores)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#endif </span><span style=color:#75715e>// __cplusplus
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_number</span>()
</span></span><span style=display:flex><span>{   <span style=color:#75715e>// is not free from side-effects, when set_number is used
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> number;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>set_number</span>(<span style=color:#66d9ef>int</span> n)
</span></span><span style=display:flex><span>{   <span style=color:#75715e>// the state needs to be synchronized with the model state
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    number <span style=color:#f92672>=</span> n;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>get_sqrt</span>(<span style=color:#66d9ef>int</span> n)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> std<span style=color:#f92672>::</span>sqrt(n);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>is_the_world_safe</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#ifdef __cplusplus
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} <span style=color:#75715e>// end of &#34;C&#34; symbol name mangling
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e>#endif </span><span style=color:#75715e>// __cplusplus
</span></span></span></code></pre></div><p>Execute the following shell commands to compile the source <code>external.cpp</code> into object file <code>external.o</code> and then link <code>external.o</code> into a shared library <code>libexternal.so</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>g++ -std<span style=color:#f92672>=</span>c++17 -Wpedantic -Wall -Wextra -fPIC -g -Og -o external.o -c external.cpp
</span></span><span style=display:flex><span>gcc -shared -o libexternal.so external.o
</span></span></code></pre></div><p>For optimized builds replace <code>-g Og</code> with <code>-DNDEBUG -O3</code> in the above command and strip the details with <code>strip libexternal.so</code>.</p><p>For more library examples please visit <a href=https://github.com/UPPAALModelChecker/uppaal-libs>uppaal-libs</a> repository.</p><h2 id=debugging>Debugging</h2><p>Inspect the library file using <code>file /home/user/lib/libexternal.so</code>:</p><pre tabindex=0><code>libexternal.so: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, ...
</code></pre><p>Inspect the dynamic library dependencies <code>ldd /home/user/lib/libexternal.so</code>:</p><pre tabindex=0><code>       statically linked
</code></pre><p>This means that the library is linked with everything it needs and is self-contained, it does not require any additional libraries.
Alternatively, one may see a list of required libraries and where the library loader (<code>ld-linux.so</code>) can (not) find them.</p><p>Inspect the exported dynamic symbols of the library using <code>objdump -T /home/user/lib/libexternal.so</code>:</p><pre tabindex=0><code>libexternal.so:     file format elf64-x86-64

DYNAMIC SYMBOL TABLE:
0000000000000000  w   D  *UND*  0000000000000000 __cxa_finalize
0000000000000000  w   D  *UND*  0000000000000000 _ITM_registerTMCloneTable
0000000000000000  w   D  *UND*  0000000000000000 _ITM_deregisterTMCloneTable
0000000000000000  w   D  *UND*  0000000000000000 __gmon_start__
0000000000001120 g    DF .text  0000000000000006 is_the_word_safe
0000000000001100 g    DF .text  000000000000000a get_number
0000000000004008 g    DO .data  0000000000000004 number
0000000000001110 g    DF .text  000000000000000a set_number
</code></pre><p>Similarly using <code>nm -D /home/user/lib/libexternal.so</code>:</p><pre tabindex=0><code>                 w __cxa_finalize
0000000000001100 T get_number
                 w __gmon_start__
0000000000001120 T is_the_word_safe
                 w _ITM_deregisterTMCloneTable
                 w _ITM_registerTMCloneTable
0000000000004008 D number
0000000000001110 T set_number
</code></pre><p>(GNU compiler exports all symbols by default, hence <code>number</code> can be part of the exported symbol listing)</p><p>One can also inspect the library loading among all OS kernel calls, for example <code>strace verifyta external.xml</code>:</p><pre tabindex=0><code>...
read(3, &#34;&lt;?xml version=\&#34;1.0\&#34; encoding=\&#34;ut&#34;..., 4096) = 1332
getcwd(&#34;/tmp/uppaal-lib&#34;, 1024)         = 16
read(3, &#34;&#34;, 4096)                       = 0
openat(AT_FDCWD, &#34;/home/user/lib/libexternal.so&#34;, O_RDONLY|O_CLOEXEC) = 4
read(4, &#34;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0\0\0\0\0\0\0\0\0&#34;..., 832) = 832
newfstatat(4, &#34;&#34;, {st_mode=S_IFREG|0750, st_size=13920, ...}, AT_EMPTY_PATH) = 0
mmap(NULL, 16400, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 4, 0) = 0x7f30277e5000
mmap(0x7f30277e6000, 4096, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 4, 0x1000) = 0x7f30277e6000
mmap(0x7f30277e7000, 4096, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 4, 0x2000) = 0x7f30277e7000
mmap(0x7f30277e8000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 4, 0x2000) = 0x7f30277e8000
close(4)                                = 0
mprotect(0x7f30277e8000, 4096, PROT_READ) = 0
read(3, &#34;&#34;, 4096)                       = 0
close(3)                                = 0
...
</code></pre><p>Here, one can see <code>verifyta</code> requesting for current directory (<code>getcwd</code>), and then opening <code>/home/user/libexternal.so</code> file (<code>openat</code>).</p><p>Alternatively, one may find errors when some library is missing or a path is wrong:</p><pre tabindex=0><code>getcwd(&#34;/tmp/uppaal-lib&#34;, 1024)         = 16
read(3, &#34;&#34;, 4096)                       = 0
openat(AT_FDCWD, &#34;/home/user/wrong/libexternal.so&#34;, O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)
</code></pre><p>Errors when some symbol is not found (wrong function name):</p><pre tabindex=0><code>getcwd(&#34;/tmp/uppaal-lib&#34;, 1024)         = 16
read(3, &#34;&#34;, 4096)                       = 0
openat(AT_FDCWD, &#34;/home/user/lib/libexternal.so&#34;, O_RDONLY|O_CLOEXEC) = 4
read(4, &#34;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0\0\0\0\0\0\0\0\0&#34;..., 832) = 832
newfstatat(4, &#34;&#34;, {st_mode=S_IFREG|0750, st_size=15264, ...}, AT_EMPTY_PATH) = 0
mmap(NULL, 16408, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 4, 0) = 0x7f988f7d5000
mmap(0x7f988f7d6000, 4096, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 4, 0x1000) = 0x7f988f7d6000
mmap(0x7f988f7d7000, 4096, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 4, 0x2000) = 0x7f988f7d7000
mmap(0x7f988f7d8000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 4, 0x2000) = 0x7f988f7d8000
close(4)                                = 0
mprotect(0x7f988f7d8000, 4096, PROT_READ) = 0
futex(0x7f988f6791f0, FUTEX_WAKE_PRIVATE, 2147483647) = 0
read(3, &#34;&#34;, 4096)                       = 0
close(3)                                = 0
write(2, &#34;external.xml&#34;, 12external.xml)            = 12
write(2, &#34;:&#34;, 1:)                        = 1
write(2, &#34;/nta/declaration&#34;, 16/nta/declaration)        = 16
write(2, &#34;:&#34;, 1:)                        = 1
write(2, &#34;5&#34;, 15)                        = 1
write(2, &#34;: [&#34;, 3: [)                      = 3
write(2, &#34;error&#34;, 5error)                    = 5
write(2, &#34;] &#34;, 2] )                       = 2
write(2, &#34;/home/user/lib/libexternal.so: &#34;..., 68/home/user/lib/libexternal.so: undefined symbol: is_the_word_safe.) = 68
</code></pre><p>If the library implementation crashes, then one may try and debug it by loading <code>verifyta</code> with the specified model into a debugger or Integrated Development Environmnet (IDE) like Netbeans or Clion.</p><p>In order to step through the library calls, make sure that the library is compiled and linked with debug information (using <code>-g -Og</code> compiler arguments).</p><p>Alternatively, we strongly suggest to use unit tests to call your library and inspect the behavior in the debugger or IDE, for example:</p><p><code>external_test.cpp</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&#34;external.h&#34;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;cassert&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> seven <span style=color:#f92672>=</span> get_sqrt(<span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>    assert(seven <span style=color:#f92672>==</span> <span style=color:#ae81ff>7</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> two <span style=color:#f92672>=</span> get_sqrt(<span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>    assert(two <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Compile <code>external_test.cpp</code> into <code>external_test</code> against <code>libexternal.so</code> in <code>/home/user/lib</code> and run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>g++ -std<span style=color:#f92672>=</span>c++17 -Wpedantic -Wall -Wextra -g external_test.cpp -L/home/user/lib -lexternal -o external_test
</span></span><span style=display:flex><span>LD_LIBRARY_PATH<span style=color:#f92672>=</span>/home/user/lib ./external_test
</span></span></code></pre></div><p>The test above may produce the following output:</p><pre tabindex=0><code>external_test: external_test.cpp:9: int main(): Assertion `two == 2&#39; failed.
Aborted (core dumped)
</code></pre><p>Which means that the assertion <code>two == 2</code> on line <code>9</code> of <code>external_test.cpp</code> is false.</p><p>The test above can be (re-)run using <code>gdb</code> debugger:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>LD_LIBRARY_PATH<span style=color:#f92672>=</span>/home/user/lib gdb ./external_test
</span></span><span style=display:flex><span>Reading symbols from ./external_test...
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> r
</span></span><span style=display:flex><span>Starting program: /tmp/uppaal-lib/external_test 
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>Thread debugging using libthread_db enabled<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>Using host libthread_db library <span style=color:#e6db74>&#34;/lib/x86_64-linux-gnu/libthread_db.so.1&#34;</span>.
</span></span><span style=display:flex><span>external_test: external_test.cpp:8: int main<span style=color:#f92672>()</span>: Assertion <span style=color:#e6db74>`</span>two <span style=color:#f92672>==</span> 2<span style=color:#e6db74>&#39; failed.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Program received signal SIGABRT, Aborted.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>__pthread_kill_implementation (threadid=&lt;optimized out&gt;, signo=signo@entry=6, no_tid=no_tid@entry=0)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    at ./nptl/pthread_kill.c:44
</span></span></span><span style=display:flex><span><span style=color:#e6db74>44      ./nptl/pthread_kill.c: No such file or directory.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(gdb) bt
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#0  __pthread_kill_implementation (threadid=&lt;optimized out&gt;, signo=signo@entry=6, no_tid=no_tid@entry=0)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    at ./nptl/pthread_kill.c:44
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#1  0x00007ffff7d61d2f in __pthread_kill_internal (signo=6, threadid=&lt;optimized out&gt;) at ./nptl/pthread_kill.c:78
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#2  0x00007ffff7d12ef2 in __GI_raise (sig=sig@entry=6) at ../sysdeps/posix/raise.c:26
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#3  0x00007ffff7cfd472 in __GI_abort () at ./stdlib/abort.c:79
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#4  0x00007ffff7cfd395 in __assert_fail_base (fmt=0x7ffff7e71a70 &#34;%s%s%s:%u: %s%sAssertion `%s&#39;</span> failed.<span style=color:#ae81ff>\n</span>%n<span style=color:#e6db74>&#34;, 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    assertion=assertion@entry=0x55555555602c &#34;</span>two <span style=color:#f92672>==</span> 2<span style=color:#e6db74>&#34;, file=file@entry=0x55555555600f &#34;</span>external_test.cpp<span style=color:#e6db74>&#34;, 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    line=line@entry=8, function=function@entry=0x555555556004 &#34;</span>int main<span style=color:#f92672>()</span><span style=color:#e6db74>&#34;) at ./assert/assert.c:92
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#5  0x00007ffff7d0bdf2 in __GI___assert_fail (assertion=0x55555555602c &#34;</span>two <span style=color:#f92672>==</span> 2<span style=color:#e6db74>&#34;, 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    file=0x55555555600f &#34;</span>external_test.cpp<span style=color:#e6db74>&#34;, line=9, function=0x555555556004 &#34;</span>int main<span style=color:#f92672>()</span><span style=color:#e6db74>&#34;) at ./assert/assert.c:101
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#6  0x00005555555551c7 in main () at external_test.cpp:8
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(gdb) up
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#1  0x00007ffff7d61d2f in __pthread_kill_internal (signo=6, threadid=&lt;optimized out&gt;) at ./nptl/pthread_kill.c:78
</span></span></span><span style=display:flex><span><span style=color:#e6db74>78      in ./nptl/pthread_kill.c
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(gdb) 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#2  0x00007ffff7d12ef2 in __GI_raise (sig=sig@entry=6) at ../sysdeps/posix/raise.c:26
</span></span></span><span style=display:flex><span><span style=color:#e6db74>26      ../sysdeps/posix/raise.c: No such file or directory.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(gdb) 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#3  0x00007ffff7cfd472 in __GI_abort () at ./stdlib/abort.c:79
</span></span></span><span style=display:flex><span><span style=color:#e6db74>79      ./stdlib/abort.c: No such file or directory.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(gdb) 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#4  0x00007ffff7cfd395 in __assert_fail_base (fmt=0x7ffff7e71a70 &#34;</span>%s%s%s:%u: %s%sAssertion <span style=color:#e6db74>`</span>%s<span style=color:#960050;background-color:#1e0010>&#39;</span> failed.<span style=color:#ae81ff>\n</span>%n<span style=color:#e6db74>&#34;, 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    assertion=assertion@entry=0x55555555602c &#34;</span>two <span style=color:#f92672>==</span> 2<span style=color:#e6db74>&#34;, file=file@entry=0x55555555600f &#34;</span>external_test.cpp<span style=color:#e6db74>&#34;, 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    line=line@entry=8, function=function@entry=0x555555556004 &#34;</span>int main<span style=color:#f92672>()</span><span style=color:#e6db74>&#34;) at ./assert/assert.c:92
</span></span></span><span style=display:flex><span><span style=color:#e6db74>92      ./assert/assert.c: No such file or directory.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(gdb) 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#5  0x00007ffff7d0bdf2 in __GI___assert_fail (assertion=0x55555555602c &#34;</span>two <span style=color:#f92672>==</span> 2<span style=color:#e6db74>&#34;, 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    file=0x55555555600f &#34;</span>external_test.cpp<span style=color:#e6db74>&#34;, line=8, function=0x555555556004 &#34;</span>int main<span style=color:#f92672>()</span><span style=color:#e6db74>&#34;) at ./assert/assert.c:101
</span></span></span><span style=display:flex><span><span style=color:#e6db74>101     in ./assert/assert.c
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(gdb) 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#6  0x00005555555551c7 in main () at external_test.cpp:9
</span></span></span><span style=display:flex><span><span style=color:#e6db74>9           assert(two == 2);
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(gdb) p two
</span></span></span><span style=display:flex><span><span style=color:#e6db74></span>$1<span style=color:#e6db74> = -2147483648
</span></span></span><span style=display:flex><span><span style=color:#e6db74>(gdb)
</span></span></span></code></pre></div><p>In the log above, one can see that the binary is loaded from <code>external_test</code>.</p><p>The program is run by command <code>r</code>, then a crash is observed due to failed assertion <code>two == 2</code>.</p><p>A call stack trace is printed using command <code>bt</code>, in particular it contains <code>main ()</code> from our source file <code>external_test.cpp</code>.</p><p>Then the debugger is instructed to go up in the call stack multiple times by issuing a command <code>up</code> and then blank command (simply enter, which repeats the last command).</p><p>Then at the <code>main</code> function call, the code line <code>assert(two == 2);</code> is highlighted.</p><p>And finally the value of variable <code>two</code> is printed using command <code>p two</code>. The value is <code>-2147483648</code> which is not as expected, hence the assertion failed.</p><p>It is also possible to attach <code>gdb</code> to an already running process (like <code>verifyta</code> or Uppaal engine <code>server</code>), set break points and watches.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/language-reference/system-description/declarations/functions/ title=Functions><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/language-reference/system-description/templates/ title=Templates style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1684324558></script>
<script src=/js/perfect-scrollbar.min.js?1684324558></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1684324558></script>
<script src=/js/jquery.sticky.js?1684324558></script>
<script src=/js/featherlight.min.js?1684324558></script>
<script src=/js/highlight.pack.js?1684324558></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1684324558></script>
<script src=/js/learn.js?1684324558></script>
<script src=/js/hugo-learn.js?1684324558></script>
<script src=/mermaid/mermaid.js?1684324558></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>